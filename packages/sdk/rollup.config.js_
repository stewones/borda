const copy = require('rollup-plugin-copy');

module.exports = (config) => {
  const newConfig = {
    ...config,
    external: ['@elegante/sdk'],
    plugins: [
      ...config.plugins,
      copy({
        targets: [
          {
            src: 'packages/sdk/README.md',
            dest: 'dist/packages/sdk',
            hook: 'writeBundle',
            verbose: true,
          },
        ],
      }),
    ],
  };

  return newConfig;
};
